---
import {Image} from "astro:assets";

import appPhoto1 from "../assets/images/app-photo.png";
import appPhoto2 from "../assets/images/app-photo-2.png";
import appPhoto3 from "../assets/images/app-photo-3.png";
---

<section class="use">
	<header>
		<h2>Protect Yourself from Online Scams</h2>
		<p>
			Lazaro is a web extension designed specifically for you to browse the internet safely. It helps detect
			fraudulent websites and alert you before you get tricked. Lazaro is easy to use, non-intrusive, and always
			there to keep you safe.
		</p>
		<a href="#"><button> Add Lazaro to Your Browser</button></a>
	</header>
	<div class="showcase">
		<Image src={appPhoto1} alt="Extension Example Safe" style={"--examples-delay: 1"} />
		<Image src={appPhoto2} alt="Extension Example Unsafe" style={"--examples-delay: 2"} />
		<Image src={appPhoto3} alt="Extension Example Unsure" style={"--examples-delay: 3"} />
	</div>
</section>

<style>
	@keyframes pop-up-cards {
		from {
			opacity: 0;
		}
		to {
			transform: translateY(0px);
			opacity: 1;
		}
	}

	.use {
		display: flex;
		gap: var(--spacing);
		flex-flow: row-reverse;

		height: 80vh;

		header {
			flex: 1 1 40%;
			align-self: center;

			display: flex;
			flex-flow: column;
			gap: var(--spacing);
		}

		.showcase {
			container-name: --showcase;
			container-type: inline-size;
			flex: 1 1 60%;

			position: relative;
		}

		img {
			position: absolute;

			width: calc(clamp(10px, 4vw, 30px) * 9);
			height: calc(clamp(10px, 4vw, 30px) * 16);
			border-radius: 30px;
			border: 5px solid #3334;
			box-shadow: 5px 5px 20px #0003;

			transform: translateY(calc(var(--examples-delay) * 200px));

			animation: pop-up-cards linear;
			animation-timeline: view(block);
			animation-fill-mode: forwards;
			animation-range: cover 0% contain 50%;

			&:nth-child(1) {
				left: 25%;
				top: 50px;
			}

			&:nth-child(2) {
			}

			&:nth-child(3) {
				left: 50%;
			}
		}
	}

	@container --showcase (width < 600px) {
		.showcase img {
			&:nth-child(1) {
				left: unset;
			}

			&:is(:nth-child(2), :nth-child(3)) {
				display: none;
			}
		}
	}

	@media (width < 600px) {
		.showcase {
			display: none;
		}
	}
</style>
